<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/firebase-element/firebase-collection.html">


<dom-module id="language-selection">  
<template>
    
    <firebase-collection location="[[location]]/Languages" data="{{languages}}"></firebase-collection>
    
    <paper-dropdown-menu label="From" id="fromDDL">
        <paper-menu class="dropdown-content" selected="{{fromLanguage}}" attr-for-selected="name">
            <template is="dom-repeat" items="[[languages]]" as="language">
                <paper-item name="[[language.name]]">[[language.name]]</paper-item>
            </template>
        </paper-menu>
    </paper-dropdown-menu>
    
    
    <paper-dropdown-menu label="To" id="toDDL">
        <paper-menu class="dropdown-content" >
            <template is="dom-repeat" items="[[languages]]" as="language">
                <template is="dom-if" if="{{isFrom(language, fromLanguage)}}">
                    <paper-item name="[[language.name]]">[[language.name]]</paper-item>
                </template>
            </template>
        </paper-menu>
    </paper-dropdown-menu>
    
    
    
    
    <paper-button on-tap="logsel">selected</paper-button>
</template>
<script>
    Polymer({
        is : 'language-selection', 
        
        properties: {
            location: String,
            languages: Array,
            fromLanguage: Object
        }, 
        
        isFrom: function(language, fromLanguage){
            console.log("evaluating from");
            console.log(language.name + " " + fromLanguage);
            return language.name != fromLanguage;
        }, 
        
        logsel: function(){
            console.log(this.fromLanguage);
        }
    })
    
</script>
</dom-module>     